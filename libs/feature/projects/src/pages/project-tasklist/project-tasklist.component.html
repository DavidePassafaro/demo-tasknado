<div class="tasks-container">
  <div class="tasks-header">
    <h1>{{ project()?.name }} - Tasks</h1>

    <tn-create-entity entityName="Task" (entityCreated)="onTaskCreated($event)" />
  </div>

  <!-- Vertical task list -->
  <div class="tasks-list">
    <h2>Task List ({{ tasks().length }})</h2>

    @if (tasks().length === 0) {
    <div class="no-tasks">
      <p>You haven't created any tasks yet. Start adding one!</p>
    </div>
    } @else if (tasks().length > 0) {
    <cdk-virtual-scroll-viewport class="tasks-virtual-scroll" itemSize="121">
      <div class="tasks-vertical">
        <div *cdkVirtualFor="let task of tasks(); trackBy: trackByTaskId">
          <tn-task-card
            [task]="task"
            (taskDeleted)="deleteTask($event)"
            (taskToggled)="toggleTask($event)"
            (taskSelected)="onTaskSelected($event)"
          />
        </div>
      </div>
    </cdk-virtual-scroll-viewport>
    }
  </div>
</div>
