<div class="tasks-container">
  <h1>My Tasks</h1>

  <!-- Form to create new task -->
  <tn-create-task (taskCreated)="onTaskCreated($event)"></tn-create-task>

  <!-- Vertical task list -->
  <div class="tasks-list">
    <h2>Task List ({{ tasks.length }})</h2>

    @if (tasks.length === 0) {
    <div class="no-tasks">
      <p>You haven't created any tasks yet. Start adding one!</p>
    </div>
    } @else if (tasks.length > 0) {
    <div class="tasks-vertical">
      @for (task of tasks; track task.id) {
      <div class="task-item" [class.completed]="task.completed">
        <div class="task-header">
          <div class="task-checkbox-title">
            <input
              type="checkbox"
              [checked]="task.completed"
              (change)="toggleTask(task.id)"
              class="task-checkbox"
              [attr.aria-label]="
                'Mark as ' + (task.completed ? 'not ' : '') + 'completed: ' + task.title
              "
            />
            <h3 class="task-title">{{ task.title }}</h3>
          </div>

          <button (click)="deleteTask(task.id)" class="delete-btn" title="Delete task">×</button>
        </div>

        @if (task.description) {
        <p class="task-description">{{ task.description }}</p>
        }

        <div class="task-meta">
          <span class="task-status">
            @if (task.completed) { ✓ Completed } @else { In progress }
          </span>

          <span class="task-date">
            {{ task.createdAt | date : 'short' }}
          </span>
        </div>
      </div>
      }
    </div>
    }
  </div>
</div>
