<div class="tasks-container">
  <div class="tasks-header">
    <h1>My Tasks</h1>
    <button class="debug-btn" (click)="generateRandomTasks()" title="Generate 100 random tasks for debugging">
      ğŸ› Debug: 100 Tasks
    </button>
  </div>

  <!-- Form to create new task -->
  <tn-create-task (taskCreated)="onTaskCreated($event)"></tn-create-task>

  <!-- Vertical task list -->
  <div class="tasks-list">
    <h2>Task List ({{ tasks.length }})</h2>

    @if (tasks.length === 0) {
    <div class="no-tasks">
      <p>You haven't created any tasks yet. Start adding one!</p>
    </div>
    } @else if (tasks.length > 0) {
    <cdk-virtual-scroll-viewport class="tasks-virtual-scroll" itemSize="200">
      <div class="tasks-vertical">
        @for (task of tasks; track task.id) {
          <tn-task-card 
            [task]="task"
            (taskDeleted)="deleteTask($event)"
            (taskToggled)="toggleTask($event)"
          ></tn-task-card>
        }
      </div>
    </cdk-virtual-scroll-viewport>
    }
  </div>
</div>
